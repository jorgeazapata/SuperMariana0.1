<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dino Móvil</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: manipulation; }
        body { 
            display: flex; justify-content: center; align-items: center; 
            height: 100vh; background-color: #f0f0f0; overflow: hidden;
            font-family: sans-serif;
        }
        #game { 
            width: 100%; max-width: 500px; height: 200px; 
            background: white; border-bottom: 2px solid #535353;
            position: relative; overflow: hidden;
        }
        #dino { 
            width: 40px; height: 40px; background-color: #535353; 
            position: absolute; bottom: 0; left: 20px; 
        }
        #cactus { 
            width: 20px; height: 40px; background-color: #2ecc71; 
            position: absolute; bottom: 0; right: -30px; 
            animation: move 1.5s infinite linear;
        }
        .jump { animation: jump 0.5s ease-out; }

        @keyframes move {
            0% { right: -30px; }
            100% { right: 110%; }
        }
        @keyframes jump {
            0% { bottom: 0; }
            50% { bottom: 100px; }
            100% { bottom: 0; }
        }
        #score { position: absolute; top: 10px; right: 20px; font-weight: bold; }
    </style>
</head>
<body ontouchstart="jump()" onclick="jump()">

    <div id="game">
        <div id="score">Puntos: 0</div>
        <div id="dino"></div>
        <div id="cactus"></div>
    </div>

    <script>
        const dino = document.getElementById("dino");
        const cactus = document.getElementById("cactus");
        const scoreDisplay = document.getElementById("score");
        let score = 0;

        function jump() {
            if (!dino.classList.contains("jump")) {
                dino.classList.add("jump");
                setTimeout(() => dino.classList.remove("jump"), 500);
            }
        }

        setInterval(() => {
            let dinoTop = parseInt(window.getComputedStyle(dino).getPropertyValue("top"));
            let cactusLeft = parseInt(window.getComputedStyle(cactus).getPropertyValue("left"));

            // Ajuste de colisión para pantallas pequeñas
            if (cactusLeft < 60 && cactusLeft > 20 && dinoTop >= 160) {
                alert("¡Perdiste! Puntaje: " + score);
                score = 0;
                location.reload();
            } else if (cactusLeft < 20 && cactusLeft > 15) {
                score++;
                scoreDisplay.innerText = "Puntos: " + score;
            }
        }, 50); // Un poco más lento para procesadores móviles
    </script>
</body>
</html>
